# Модуль 3. Задание 08 (Семафоры System V, 2 балла)
    Скорректировать программу 05 так, чтобы доступ к файлу регулировался семафором.

# Реализация
- Программа поделена на пять функций. Это шаблонные функции для записи/чтения из файла, блокировки/разблокировки доступа к семафору и главная функция.
- Функции `semaphore_wait` и `semaphore_signal` по управлению семафором практически идентичны. Различаются в них только значения полей структуры `sembuf`. У `semaphore_wait` 0 — это индекс семафора в массиве семафоров (используется один семафор), -1 — это операция декремента (снижение значения семафора на единицу), а 0 — это флаг, который не приостанавливает процесс. `semaphore_signal` отличается тем, что в ней используется инкремент, т.е. мы "освобождаем" семафор.
-   В главной функции происходят основные действия. Сначала проверка на то, что пользователь ввел ножное количество аргументов при запуске. 
    Далее введенная строка преобразуется в аргументы.
    Создается семафор при помощи функции `semget` и параметров `IPC_PRIVATE, 1, 0666 | IPC_CREAT` (ключ, кол-во семафоров, флаги на права доступа к семафору). Семафор инициализируется единицей. 
    Далее также создаются дескрипторы для канала, чтобы можно было обмениваться информацией между дочерним и родительским процессами.
    Потом создаётся сам дочерний процесс. И начинаются основные действия.
    Дочерний процесс блокирует семафор, считывает и выводит данные из файла, генерирует новое случайное число, если до этого не было прочитано последнее число из файла, и отправляет его родительскому процессу. Потом освобождает семафор и закрывает дескриптор записи дочернего процесса.
    В родительском процессе считывается отправленное число из дочернего процесса, блокируется семафор, производится запись этого числа в файл, с семафора снимается блокировка и закрывается дескриптор чтения в родительском процессе.
-   Всё это повторяется то количество раз, какое пользователь задал при запуске программы. Затем семафор удаляется при помощи функции `semctl` и программа завершает свою работу.

